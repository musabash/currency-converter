(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(4),u=n.n(a),o=(n(10),n(2)),s=Object(r.createContext)();function i(e){var t=e.children,n=Object(r.useState)(["GBP","USD"]),a=Object(o.a)(n,2),u=a[0],i=a[1],j=Object(r.useState)(""),h=Object(o.a)(j,2),l=h[0],f=h[1],b=Object(r.useState)(""),O=Object(o.a)(b,2),d=O[0],x=O[1],g=Object(r.useState)(""),v=Object(o.a)(g,2),p=v[0],m=v[1],C=Object(r.useState)([]),y=Object(o.a)(C,2),S=y[0],w=y[1],E=Object(r.useState)([]),N=Object(o.a)(E,2),k=N[0],R=N[1],I=Object(r.useState)(""),H=Object(o.a)(I,2),K=H[0],T=H[1],D=Object(r.useState)([1,""]),Q=Object(o.a)(D,2),B=Q[0],P=Q[1],U=Object(r.useState)(""),q=Object(o.a)(U,2),J=q[0],L=q[1],V=Object(r.useState)(["British Pound","United States Dollar"]),A=Object(o.a)(V,2),G=A[0],_=A[1],z="https://free.currconv.com/api/v7/",F="2a72ed1936ff6bd0371d";var M={exchangeCurrencies:u,setExchangeCurrencies:i,result:l,setResult:f,searchQuery:p,setSearchQuery:m,countries:S,setCountries:w,error:K,setError:T,getCountries:function(){var e="".concat(z,"countries?apiKey=").concat(F);console.log(e),fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){var t=[];for(var n in e.results)t.push(e.results[n]);w(t)})).catch((function(e){console.log(e)}))},getExchangeRate:function(){var e="".concat(u[0],"_").concat(u[1]),t="".concat(z,"convert?q=").concat(e,"&compact=ultra&apiKey=").concat(F);fetch(t).then((function(e){return e.ok?e.json():e.error})).then((function(t){return x(t[e])})).catch((function(e){console.log(e)}))},currencies:k,getCurrencies:function(){var e="".concat(z,"currencies?apiKey=").concat(F);fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){var t=[];for(var n in e.results)t.push(e.results[n]);R(t.sort((function(e,t){return e.id>t.id?1:-1})))})).catch((function(e){console.log(e)}))},values:B,setValues:P,currentInput:J,setCurrentInput:L,exchangeRate:d,setExchangeRate:x,onChangeHandler:function(e,t){var n=0;n=0===t?e*d:e/d,P(B.map((function(c,r){return r===t?e:n})))},getApiUsage:function(){var e="https://free.currconv.com/others/usage?apiKey=".concat(F);fetch(e).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")})).then((function(e){return console.log(e)})).catch((function(e){console.log(e)}))},headerText:G,setHeaderText:_};return Object(c.jsx)(s.Provider,{value:M,children:t})}function j(e){var t=e.name,n=e.index,a=Object(r.useContext)(s),u=a.currencies,i=a.searchQuery,j=a.currentInput,h=a.setSearchQuery,l=a.setCurrentInput,f=a.setExchangeCurrencies,b=a.exchangeCurrencies,O=a.getExchangeRate,d=a.onChangeHandler,x=a.exchangeRate,g=a.setHeaderText,v=a.headerText,p=Object(r.useState)(b[n]),m=Object(o.a)(p,2),C=m[0],y=m[1];function S(e,t){var c=b.map((function(t,c){return c===n?e.target.name:t}));f(c),y(e.target.name),l(""),g((function(){return v.map((function(e,c){return c===n?t:e}))}))}return Object(r.useEffect)((function(){O()}),[b]),Object(r.useEffect)((function(){d(1,0)}),[x]),Object(c.jsxs)("div",{className:"currency-list-container",children:[Object(c.jsx)("input",{className:"currency-list-input",type:"text",value:C,onClick:function(){l(t),h("")},onChange:function(e){h(e.target.value),y(e.target.value)}}),j===t&&Object(c.jsx)("div",{className:"currency-list",children:u.map((function(e,t){return(e.id+e.currencyName).toLowerCase().includes(i.toLowerCase())&&Object(c.jsx)("input",{className:"currency",onClick:function(t){return S(t,e.currencyName)},name:e.id,defaultValue:"".concat(e.id," - ").concat(e.currencyName)},t)}))})]})}function h(e){var t=e.name,n=e.index,a=Object(r.useContext)(s),u=a.values,o=a.onChangeHandler;return Object(c.jsxs)("div",{className:"currency-selector",children:[Object(c.jsx)("input",{type:"number",min:"0",onKeyDown:function(e){"-"===e.key&&e.preventDefault()},value:u[n],onChange:function(e){return o(e.target.value,n)}}),Object(c.jsx)(j,{name:t,index:n})]})}function l(){var e=Object(r.useContext)(s),t=e.exchangeRate,n=e.headerText;return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsxs)("h4",{children:["1 ",n[0]," equals"]}),Object(c.jsxs)("h3",{children:[t," ",n[1]]})]})}var f=function(){var e=Object(r.useContext)(s),t=e.getCurrencies,n=e.getExchangeRate,a=e.setCurrentInput;return Object(r.useEffect)((function(){t(),n()}),[]),Object(c.jsxs)("div",{className:"app",onClick:function(e){return"currency-list-input"!==e.target.className&&a("")},children:[Object(c.jsx)("h1",{children:"Currency Converter"}),Object(c.jsx)(l,{}),Object(c.jsx)(h,{name:"from",index:0}),Object(c.jsx)(h,{name:"to",index:1})]})};u.a.render(Object(c.jsx)(i,{children:Object(c.jsx)(f,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f2e830d7.chunk.js.map